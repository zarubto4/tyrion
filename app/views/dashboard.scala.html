@import models.compiler.Model_Board
@import models.compiler.Model_CompilationServer
@import models.person.Model_Person
@import models.project.b_program.servers.Model_HomerServer
@import models.project.global.Model_Project
@import models.loggy.Model_RequestLog


<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>

<section class="content-header">
    <h1> Dashboard <small>Control panel</small> </h1>
    <ol class="breadcrumb">
        <li class="active"><i class="fa fa-globe"></i> Dashboard </li>
    </ol>
</section>

<section class="content"  style="min-height: 150px;">
<!-- ----------------------------------------------------------------------------------------------------------------------- -->
          <div class="row">

            <div class="col-lg-3 col-xs-6"><div class="small-box bg-aqua"><div class="inner">
                  <h3>@Model_Person.find.findRowCount()</h3>
                  <p>Registered Person</p>
                  </div><div class="icon"><i class="ion ion-person"></i></div> </div>
            </div>

            <div class="col-lg-3 col-xs-6"><div class="small-box bg-aqua"><div class="inner">
                  <h3>@Model_Project.find.findRowCount()</h3>
                  <p>Project created</p>
                  </div><div class="icon"><i class="ion ion-person"></i></div> </div>
            </div>

            <div class="col-lg-3 col-xs-6"><div class="small-box bg-aqua"><div class="inner">
                  <h3>@Model_Board.find.findRowCount()</h3>
                  <p>Board Registred</p>
                  </div><div class="icon"><i class="ion ion-person"></i></div> </div>
            </div>
          </div><!-- /.row -->
<!-- ------------------------------------------------------------------------------------------------------------------ -->
</section><!-- /.content -->

<section class="content-header">
    <h1> Homer cloud servers <small>Control panel</small> </h1>
</section>
<section class="content" style="min-height: 150px;">
    <div class="row">

    @for( x <- Model_HomerServer.find.all()) {

        <div class="col-lg-4 col-xs-6"><div
                @if(x.server_is_online()) {
                    class="small-box bg-green-gradient"
                } else {
                    class="small-box bg-red"
                }><div class="inner">
            <h3>@x.personal_server_name
                @if(!x.server_is_online()){  <small style="color: white">(Offline)</small>  }
            </h3>
            <p></p>
            <p> @if(x.server_is_online()){
                Instances: @x.get_homer_server_number_of_instance().value
            }</p>
             </div><div class="icon"><i class="ion fa-cloud_blocko_server"></i></div> </div>
        </div>
    }
    </div><!-- /.row -->
</section>

<section class="content-header">
    <h1> Compilation servers <small>Control panel</small> </h1>
</section>
<section class="content" style="min-height: 150px;">
    <div class="row">

    @for( x <- Model_CompilationServer.find.all()) {
        <div class="col-lg-4 col-xs-6"><div
            @if(x.server_is_online()) {
                class="small-box bg-green-gradient"
            } else {
                class="small-box bg-red"
                }><div class="inner">
            <h3>@x.personal_server_name
                @if(!x.server_is_online()){ <small style="color: white">(Offline)</small> }
            </h3>
            <p></p>
        </div><div class="icon"><i class="ion fa-cloud_blocko_server"></i></div> </div>
        </div>
    }

    </div><!-- /.row -->
</section>

<section class="content" style="min-height: 150px; display: none;">
    <div class="row">
        <div class="col-md-12">
            <div class="box">
                <div class="box-header with-border">
                    <h3 class="box-title">Request stats</h3>
                    <div class="box-tools pull-right">
                        <button class="btn btn-box-tool" type="button" data-widget="collapse"><i class="fa fa-minus"></i></button>
                    </div>
                </div>
                <div class="box-body">
                    <div class="chart">
                        <canvas id="barChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script type="text/javascript">

    //var values = [@for(log <- Model_RequestLog.find.order().desc("count").findList()){ [ @log.count, @log.request ] , }];

    var ctx = document.getElementById("barChart");
    var barChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: ["Red", "Blue", "Yellow", "Green", "Purple", "Orange", "Blue", "Yellow", "Green", "Purple", "Orange"],
            datasets: [{
                label: '# of Votes',
                data: [12, 19, 3, 5, 2, 3, 19, 3, 5, 2, 3]
            }]
        },
        options: {
            responsive: true,
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero:true
                    }
                }]
            }

        }
    });
</script>








